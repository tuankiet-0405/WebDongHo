<!DOCTYPE html>
<html lang="vi" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt lại mật khẩu | CHRONOS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Sora:wght@300;400;500;600&family=Space+Grotesk:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
    <style>
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #070A12;
        }

        ::-webkit-scrollbar-thumb {
            background: #333;
            border-radius: 3px;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }
    </style>
    <script>
        tailwind.config = { theme: { extend: { colors: { dark: '#070A12', navy: '#0B1020', gold: '#D6B25E', cyan: '#22D3EE', offwhite: '#EAEAF0', muted: '#9AA3B2' }, fontFamily: { sans: ['Inter', 'sans-serif'], display: ['Sora', 'sans-serif'], mono: ['Space Grotesk', 'monospace'] } } } }
    </script>
</head>

<body class="bg-dark text-offwhite font-sans antialiased">
    <%- include('../partials/header') %>

        <section class="min-h-screen flex items-center justify-center py-20">
            <div class="container mx-auto px-6">
                <div class="max-w-md mx-auto">
                    <div class="text-center mb-8">
                        <iconify-icon icon="lucide:key" width="48" class="text-gold mb-4"></iconify-icon>
                        <h1 class="text-3xl font-display font-semibold text-white mb-2">Đặt lại mật khẩu</h1>
                        <p class="text-muted">Nhập mật khẩu mới của bạn</p>
                    </div>

                    <!-- Flash Messages -->
                    <% if (typeof success_msg !=='undefined' && success_msg && success_msg.length> 0) { %>
                        <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4 mb-6">
                            <p class="text-green-400 text-sm">
                                <%= success_msg %>
                            </p>
                        </div>
                        <% } %>

                            <% if (typeof error_msg !=='undefined' && error_msg && error_msg.length> 0) { %>
                                <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4 mb-6">
                                    <p class="text-red-400 text-sm">
                                        <%= error_msg %>
                                    </p>
                                </div>
                                <% } %>

                                    <div class="glass-panel rounded-xl p-8">
                                        <form action="/auth/reset-password/<%= token %>" method="POST"
                                            class="space-y-6">
                                            <div>
                                                <label class="block text-sm text-muted mb-2">Mật khẩu mới</label>
                                                <input type="password" name="password" required minlength="6"
                                                    placeholder="Tối thiểu 6 ký tự"
                                                    class="w-full bg-dark border border-white/10 rounded-lg px-4 py-3 text-white focus:border-gold outline-none transition-colors">
                                            </div>

                                            <div>
                                                <label class="block text-sm text-muted mb-2">Xác nhận mật khẩu
                                                    mới</label>
                                                <input type="password" name="confirmPassword" required minlength="6"
                                                    placeholder="Nhập lại mật khẩu"
                                                    class="w-full bg-dark border border-white/10 rounded-lg px-4 py-3 text-white focus:border-gold outline-none transition-colors">
                                            </div>

                                            <button type="submit"
                                                class="w-full bg-gold hover:bg-[#C5A354] text-dark font-bold py-4 rounded-lg text-sm uppercase tracking-wide transition-colors">
                                                Đặt lại mật khẩu
                                            </button>

                                            <div class="text-center">
                                                <a href="/auth/login" class="text-gold hover:underline text-sm">
                                                    Quay lại đăng nhập
                                                </a>
                                            </div>
                                        </form>
                                    </div>
                </div>
            </div>
        </section>

        <%- include('../partials/footer') %>
            <script src="/js/main.js"></script>
</body>

</html>